% TikZ figure showing the compositional action space
% This can be included in the main paper with \input{figure_action_space}

\begin{figure}[t]
\centering
\begin{tikzpicture}[
    dimension/.style={rectangle, draw=blue!60, fill=blue!5, thick, minimum width=3cm, minimum height=0.8cm, font=\small},
    example/.style={rectangle, draw=gray!60, fill=gray!5, minimum width=2.5cm, minimum height=0.6cm, font=\footnotesize},
    arrow/.style={->, thick, >=stealth}
]

% Dimensions
\node[dimension] (omega) at (0,5) {$\omega$ Operations (10)};
\node[dimension] (phi) at (0,3.5) {$\phi$ Focus (14)};
\node[dimension] (sigma) at (0,2) {$\sigma$ Style (6)};
\node[dimension] (kappa) at (0,0.5) {$\kappa$ Connection (12)};
\node[dimension] (tau) at (0,-1) {$\tau$ Format (10)};

% Examples for each dimension
\node[example, right=0.5cm of omega] (ex1) {decompose, analyze, verify, ...};
\node[example, right=0.5cm of phi] (ex2) {structure, patterns, errors, ...};
\node[example, right=0.5cm of sigma] (ex3) {systematic, creative, formal, ...};
\node[example, right=0.5cm of kappa] (ex4) {therefore, however, ...};
\node[example, right=0.5cm of tau] (ex5) {steps, list, code, ...};

% Composition arrow
\node[rectangle, draw=green!60, fill=green!10, thick, minimum width=3cm, minimum height=1.2cm] (action) at (8,2) {
    \begin{tabular}{c}
    \textbf{Compositional Action} \\
    $a = (\omega, \phi, \sigma, \kappa, \tau)$
    \end{tabular}
};

% Arrows from dimensions to action
\draw[arrow, blue!60] (omega.east) -- (action.west |- omega);
\draw[arrow, blue!60] (phi.east) -- (action.west |- phi);
\draw[arrow, blue!60] (sigma.east) -- (action.west |- sigma);
\draw[arrow, blue!60] (kappa.east) -- (action.west |- kappa);
\draw[arrow, blue!60] (tau.east) -- (action.west |- tau);

% Prompt output
\node[rectangle, draw=orange!60, fill=orange!5, thick, minimum width=4cm, minimum height=1.5cm, align=center] (prompt) at (8,-2.5) {
    \textbf{Natural Language Prompt} \\
    \footnotesize ``Let me analyze this problem \\
    systematically, focusing on \\
    structural patterns...''
};

\draw[arrow, green!60, very thick] (action) -- node[right, font=\small] {$\psi$} (prompt);

% Action space size
\node[rectangle, draw=red!60, fill=red!5, thick, align=center, font=\small] at (8,5.5) {
    Action Space Size: \\
    $10 \times 14 \times 6 \times 12 \times 10$ \\
    $= 100{,}800$ combinations
};

\end{tikzpicture}
\caption{The compositional action space. Each dimension captures an orthogonal aspect of reasoning guidance. Actions are composed by selecting one value from each dimension, then mapped to natural language prompts through the template function $\psi$. Compatibility rules filter semantically invalid combinations.}
\label{fig:action_space}
\end{figure}
